import{j as e,r as a,C as v}from"./index-CFmr4TTZ.js";import{B as f,R as C}from"./Button-BRFGewmq.js";import{F as b,C as j,a as g,b as k,d as h}from"./utils-BoD56_QJ.js";const x=o=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"paragraph-box pb-1",children:e.jsxs("div",{className:"d-flex flex-column gap-1 mb-2",children:[e.jsx(b.Control,{as:"textarea",placeholder:"",className:"rounded-0 border-0 p-0",cols:100,rows:o.rows,onBlur:c=>o.onContentChange({[o.id]:c.target.value}),defaultValue:o.children}),o.addBtn||o.closeBtn?e.jsxs("div",{children:[o.addBtn&&e.jsx(f,{variant:"outline-primary",className:"rounded-0 btn-sm h-25 add_content",type:"button",onClick:()=>o.onContentAdd(o.id),children:"Add"}),o.closeBtn&&e.jsx(f,{variant:"outline-danger",className:"float-end rounded-0 btn-sm ms-2 h-25 p-1 remove_content",type:"button",onClick:()=>o.onContentRemove(o.id),children:"X"})]}):e.jsx(e.Fragment,{})]})})}),N=["addr","mobile","email"],E=o=>{const[c,r]=a.useState(N.map(t=>({editorMode:!1,label:t,value:o[t]}))),l=a.useRef(null);a.useEffect(()=>{const t=n=>{l.current&&n.target&&!l.current.contains(n.target)&&(c.forEach(s=>s.editorMode=!1),r(c))};return document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}},[]);const m={addBtn:!1,closeBtn:!1,onContentChange:t=>{const n=Object.keys(t)[0],s=t[n]??"";r(d=>d.map(u=>u.label===n?{...u,value:s}:u))}},i=t=>{const n=c.slice(0);n.filter(s=>s.label===t).forEach(s=>s.editorMode=!s.editorMode),r(n)};return e.jsx(e.Fragment,{children:e.jsx("div",{id:"contact",ref:l,children:c.map(({editorMode:t,label:n,value:s},d)=>e.jsxs("div",{onDoubleClick:()=>i(n),children:[!t&&e.jsx("div",{id:n,className:"link-dark link-offset-2 link-underline-opacity-0 link-opacity-50-hover mb-1",children:s}),t&&e.jsx(x,{...m,id:n,children:s})]},d))})})},p=o=>{const[c,r]=a.useState(o.role),[l,m]=a.useState(!1),i=a.useRef(null);a.useEffect(()=>{const n=s=>{i.current&&!i.current.contains(s.target)&&m(!1)};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}},[]);const t={addBtn:!1,closeBtn:!1,onContentChange:n=>{r(n.role)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{id:"label",ref:i,className:"container",children:[e.jsx("div",{id:"name",children:o.name}),e.jsxs("div",{onDoubleClick:()=>m(n=>!n),children:[!l&&e.jsx("div",{id:"role",children:c}),l&&e.jsx(x,{...t,id:"role",children:c})]})]})})},R=o=>{const[c,r]=a.useState(()=>[...Array(o.content.length).keys()].map(t=>({editorMode:!1,content:o.content[t]}))),l=a.useRef(null);a.useEffect(()=>{const t=n=>{const s=n.target;if(l.current&&!l.current.contains(s)&&g.filter(d=>s.className.includes(d)).length===0){const d=c.slice(0);d.forEach(u=>u.editorMode=!1),r(d)}};return document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}},[c]);const m={addBtn:!0,onContentAdd:t=>{t=t;const n=[...c.slice(0,t+1),{editorMode:!0,content:"Add your text..."},...c.slice(t+1)];n[t].editorMode=!1,r(n)},onContentChange:t=>{const n=[...c],s=Number(Object.keys(t)[0]);n[s].content=t[s],r(n)},closeBtn:!0,onContentRemove:t=>{r(c.filter((n,s)=>s!==t))},rows:6},i=t=>{const n=c.slice(0);n[t].editorMode=!n[t].editorMode,r(n)};return e.jsx(e.Fragment,{children:e.jsxs(v,{id:"content",ref:l,className:"ps-lg-5 pe-lg-5 ps-sm-5 pe-sm-5 pb-3",children:[e.jsx(j,{className:"mb-3",children:"Dear Hiring Manager"}),c.map(({editorMode:t,content:n},s)=>e.jsxs("div",{onDoubleClick:()=>i(s),children:[!t&&e.jsx(j,{className:"mb-3",children:n}),t&&e.jsx(x,{...m,id:s,children:n})]},s)),e.jsxs("div",{className:"col mb-1",children:["Yours truly,",e.jsx("br",{}),"Yash Kamoji"]})]})})},L=()=>{const o=a.useRef(null),c=k.useReactToPrint({contentRef:o,documentTitle:"CoverLetter"});return e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"outline-success",type:"button",className:"float-end rounded-0 me-5 mt-5",onClick:c,children:"Print"}),e.jsx(C,{className:"justify-content-center mt-4 ",children:e.jsxs(j,{ref:o,id:"coverLetter",className:"shadow-sm bg-white pe-5 p-3",lg:{span:6},children:[e.jsx("div",{id:"hline",className:"float-end me-5"}),e.jsxs(v,{id:"header",className:"mb-5 ps-sm-5 pe-sm-5",children:[e.jsx(E,{...h.contact}),e.jsx(p,{...h.contact})]}),e.jsx(R,{content:h.content})]})})]})};export{L as default};
